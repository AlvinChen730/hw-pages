
<!DOCTYPE html>

<html>

<head>
<style>
#info {
  top:5%;
  position: absolute;
  color: yellow;
  text-align: center;
  width: 100%;
}
body {
  overflow: hidden
}

</style>
</head>

<body> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r70/three.min.js"></script>
<script src="https://dl.dropboxusercontent.com/u/3587259/Code/Threejs/OrbitControls.js"></script>
<div id='info'>
</div>

<script>
var scene, renderer, camera;
var controls;
var toytrain;
var bumpMap;
var clock=new THREE.Clock();
var angle=0;
init();
animate();

function init()
{
  var width = window.innerWidth;
  var height = window.innerHeight;

  renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setSize (width, height);
  renderer.setClearColor (0x888888);
  document.body.appendChild (renderer.domElement);

  scene = new THREE.Scene();

  camera = new THREE.PerspectiveCamera (45, width/height, 1, 10000);
  camera.position.y = 48;
  camera.position.z = 120;
  camera.lookAt (new THREE.Vector3(0,0,0));

  controls = new THREE.OrbitControls (camera, renderer.domElement);
  
  var gridXZ = new THREE.GridHelper(100, 10);
  gridXZ.setColors( new THREE.Color(0xff0000), new THREE.Color(0xffffff) );
  scene.add(gridXZ);

  var pointLight = new THREE.PointLight (0xffffff);
  pointLight.position.set (0,300,200);
  scene.add (pointLight);

  var ambientLight = new THREE.AmbientLight (0x111111);
  scene.add(ambientLight);
  infield = new THREE.Mesh(new THREE.BoxGeometry(274.3, 0.1, 274.3), new THREE.MeshBasicMaterial({
    color: 0x00ff00
  }));
  
  
  
  toytrain = new THREE.Mesh(new THREE.BoxGeometry(5, 5, 12), new THREE.MeshBasicMaterial({
    color: 0x00aaff
  }));
  
  THREE.ImageUtils.crossOrigin = ''; 
  number = new THREE.Mesh(new THREE.PlaneGeometry(3.5, 3.5, 30), new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map: THREE.ImageUtils.loadTexture('https://i.imgur.com/YfOYKbI.jpg')}));
  number.rotation.y=Math.PI/2;
  number.position.set(2.6,0,0);
  toytrain.add(number);
  
  number2 = number.clone();
  number2.rotation.y=-Math.PI/2;
  number2.position.set(-2.6,0,0);
  toytrain.add(number2);
  
  line = new THREE.Mesh(new THREE.BoxGeometry(0.5, 0.5, 12), new THREE.MeshBasicMaterial({
    color: 0x000000
  }));
  line.position.set(2.3,2.5,0);
  toytrain.add(line);
  
  line2 = line.clone();
  line2.position.set(-2.3,2.5,0);
  toytrain.add(line2);
  
  line3 = new THREE.Mesh(new THREE.BoxGeometry(5, 0.5, 0.5), new THREE.MeshBasicMaterial({
    color: 0x000000
  }));
  line3.position.set(0,2.5,-5.8);
  toytrain.add(line3);
  
  line4 = new THREE.Mesh(new THREE.BoxGeometry(0.5, 3.5, 0.5), new THREE.MeshBasicMaterial({
    color: 0x000000
  }));
  line4.position.set(2.3,4,-1.25);
  toytrain.add(line4);
  
  line5 = line4.clone(); 
  line5.position.set(2.3,4,-5.75);
  toytrain.add(line5);
  
  line6 = line4.clone(); 
  line6.position.set(2.3,4,-5.8);
  toytrain.add(line6);
  
  line7 = line4.clone(); 
  line7.position.set(-2.3,4,-5.8);
  toytrain.add(line7);
  
  line8 = line4.clone(); 
  line8.position.set(-2.3,4,-5.75);
  toytrain.add(line8);
  
  line9 = line4.clone(); 
  line9.position.set(-2.3,4,-1.25);
  toytrain.add(line9);
  
  track1 = new THREE.Mesh(new THREE.CylinderGeometry(77.5, 77.5, 3,64,1,true,0,6.3), new THREE.MeshBasicMaterial({
    side:THREE.DoubleSide,
    color: 0x11ff33
  }));
  scene.add(track1);
  
  track2 = new THREE.Mesh(new THREE.CylinderGeometry(84, 84, 3,64,1,true,0,6.3), new THREE.MeshBasicMaterial({
    side:THREE.DoubleSide,
    color: 0x11ff33
  }));
  scene.add(track2);
  
  THREE.ImageUtils.crossOrigin = ''; 
  head = new THREE.Mesh(new THREE.CircleGeometry(2.5, 64), new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map: THREE.ImageUtils.loadTexture('https://i.imgur.com/lVEVTqb.png')}));
  
  blackFace = new THREE.Mesh(new THREE.CylinderGeometry( 2.5, 2.5, 1.5, 32),new THREE.MeshBasicMaterial( {color: 0x000000} ));
  blackFace.position.set(0,2.5,7);
  blackFace.rotation.x=Math.PI/2;
  toytrain.add(blackFace);
  
  
  antenna = new THREE.Mesh(new THREE.CylinderGeometry( 0.4, 0.6, 3, 32),new THREE.MeshBasicMaterial( {color: 0x000000} ))
  toytrain.add(antenna);
  antenna.position.set(0,5,7);
  
  under = new THREE.Mesh(new THREE.BoxGeometry(6, 1, 15), new THREE.MeshBasicMaterial({
    color: 0xaa1100
  }));
  under.position.set(0,-2,0);
  toytrain.add(under);
  
  tail = new THREE.Mesh(new THREE.BoxGeometry(5, 3, 5), new THREE.MeshBasicMaterial({
    color: 0x00aaff
  }));
  tail.position.set(0,4,-3.5)
  
  body = new THREE.Mesh(new THREE.CylinderGeometry( 2.5, 2.5, 8, 64, 1, false ,0 , 3.2),new THREE.MeshBasicMaterial( {color: 0x00aaff} ));
  
  back = new THREE.Mesh(new THREE.CylinderGeometry( 2.5, 2.5, 5, 64, 1, false ,0 , 3.2),new THREE.MeshBasicMaterial( {color: 0x0000} ));
  toytrain.add(back);
  back.position.set(0,5.5,-3.5);
  back.rotation.z=Math.PI/2;
  back.rotation.y=Math.PI/2;
  
  wheel=new THREE.Mesh(new THREE.CylinderGeometry( 1.5, 1.5, 1, 32),new THREE.MeshBasicMaterial( {color: 0x0000} ));
  toytrain.add(wheel);
  wheel.position.set(2,-3,0);
  wheel.rotation.z = Math.PI/2;
  
  wheel2 = wheel.clone();
  toytrain.add(wheel2);
  wheel2.position.set(2,-3,-4);
  wheel2.rotation.z = Math.PI/2;
  
  wheel3 = wheel.clone();
  toytrain.add(wheel3);
  wheel3.position.set(2,-3,4);
  wheel3.rotation.z = Math.PI/2;
  
  wheel4 = wheel.clone();
  toytrain.add(wheel4);
  wheel4.position.set(-2,-3,4);
  wheel4.rotation.z = Math.PI/2;
  
  wheel5 = wheel.clone();
  toytrain.add(wheel5);
  wheel5.position.set(-2,-3,-4);
  wheel5.rotation.z = Math.PI/2;
  
  wheel6 = wheel.clone();
  toytrain.add(wheel6);
  wheel6.position.set(-2,-3,0);
  wheel6.rotation.z = Math.PI/2;
  
  
  plane = new THREE.Mesh();
  
  bodyline = new THREE.Mesh(new THREE.CylinderGeometry(2.5, 2.5,0.3,32), new THREE.MeshBasicMaterial({
    color: 0xff00000
  }));
  bodyline.rotation.z=Math.PI/2;
  bodyline.rotation.y=Math.PI/2;
  bodyline.position.set(0,2.7,6);
  toytrain.add(bodyline);
  
  bodyline1= bodyline.clone();
  bodyline1.position.set(0,2.7,4.7);
  toytrain.add(bodyline1);
  
  bodyline2= bodyline.clone();
  bodyline2.position.set(0,2.7,3.4);
  toytrain.add(bodyline2);
  
  bodyline3= bodyline.clone();
  bodyline3.position.set(0,2.7,2.1);
  toytrain.add(bodyline3);
  
  bodyline4= bodyline.clone();
  bodyline4.position.set(0,2.7,0.8);
  toytrain.add(bodyline4);
  
  bodyline5= bodyline.clone();
  bodyline5.position.set(0,2.7,-0.5);
  toytrain.add(bodyline5);
  
  toytrain.add(head);
  head.position.set(0,2.5,7.8);
  toytrain.add(body);
  body.rotation.z = Math.PI/2;
  body.rotation.y = Math.PI/2;
  body.position.set(0,2.5,2);
  toytrain.add(tail);
  toytrain.position.set(0,4.5,0);
  scene.add(toytrain);


}

function animate()
{
  controls.update();
  var dt = clock.getDelta();

  
  toytrain.position.set (80*Math.cos(angle),3,-80*Math.sin(angle));
  toytrain.rotation.y = angle + Math.PI;
  angle += dt;

  
  
  requestAnimationFrame ( animate ); 
  renderer.render (scene, camera);
}

</script>
</body>
</html>
